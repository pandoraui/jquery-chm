<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>jQuery.when(deferreds) | jQuery API ä¸­æ–‡æ‰‹å†Œ</title>
<meta name="author" content="jQuery ä¸­æ–‡æ‰‹å†Œ - hemin.cn/jq/">
<meta name="description" content="jQueryä¸­æ–‡æ‰‹å†Œ(åœ¨çº¿ç‰ˆ),ä½œè€…:hemin,åœ¨çº¿æ‰‹å†Œ:hemin.cn/jq/,ä¸‹è½½:hemin.cn/jq/downloads/">
<link type="text/css" rel="stylesheet" href="style/style.css" tppabs="http://hemin.cn/jq/style/style.css"  />
<script type="text/javascript" src="js/jquery.min.js" tppabs="http://hemin.cn/jq/js/jquery.min.js"></script>
<script type="text/javascript" src="js/js.js" tppabs="http://hemin.cn/jq/js/js.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-44050237-1', 'hemin.cn');
  ga('send', 'pageview');
</script>
</head>
<body id="split">
<div id="content" class="a2">
  <div rel="jQuery.when">
    <h2><span>è¿”å›å€¼:Deferred</span>jQuery.when(deferreds)</h2>
    <h3>æ¦‚è¿°</h3>
    <div class="desc">
      <p> æä¾›ä¸€ç§æ–¹æ³•æ¥æ‰§è¡Œä¸€ä¸ªæˆ–å¤šä¸ªå¯¹è±¡çš„å›è°ƒå‡½æ•°ï¼Œå»¶è¿Ÿå¯¹è±¡é€šå¸¸è¡¨ç¤ºå¼‚æ­¥äº‹ä»¶ã€‚ </p>
      <div class="longdesc">
        <p> å¦‚æœå•ä¸€å»¶è¿Ÿä¼ é€’ç»™jQuery.when&nbsp;ï¼Œå®ƒæ˜¯é€šè¿‡è¿™ä¸ªæ–¹æ³•å’Œå»¶è¿Ÿå¯¹è±¡é™„åŠ çš„å…¶ä»–æ–¹æ³•å¯è®¿é—®ç»‘å®šçš„å›è°ƒå‡½æ•°è¿”å›çš„ï¼Œå¦‚<a href="javascript:if(confirm('http://api.jquery.com/deferred.then/  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüµÄÓò»òÂ·¾¶³¬¹ı¿ªÊ¼ÍøÖ·ÖĞÉèÖÃµÄ·¶Î§¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://api.jquery.com/deferred.then/'" tppabs="http://api.jquery.com/deferred.then/">defered.then</a>&nbsp;ã€‚å½“å»¶è¿Ÿå¾—åˆ°è§£å†³æˆ–è€…æ‹’ç»ï¼Œé€šå¸¸çš„ä»£ç åˆ›å»ºäº†åŸæ¥çš„å»¶è¿Ÿï¼Œé€‚å½“çš„å›è°ƒå°†è¢«è°ƒç”¨ã€‚ä¾‹å¦‚ï¼ŒjqXHRå¯¹è±¡è¿”å›jQuery.ajaxæ˜¯ä¸€ä¸ªå»¶æœŸï¼Œå¯ä»¥ç”¨è¿™ç§æ–¹å¼ï¼š </p>
        <pre><code>$.when( $.ajax("test.aspx") ).then(function(ajaxArgs){ 
     alert(ajaxArgs[1]); /* ajaxArgs is [ "success", statusText, jqXHR ] */
});</code></pre>
        <p>å¦‚æœä¸€ä¸ªå‚æ•°è¢«ä¼ é€’ç»™jQuery.when ï¼Œè¿™ä¸æ˜¯å»¶è¿Ÿï¼Œè¿™å°†è¢«è§†ä¸ºå»¶è¿Ÿè§£å†³ï¼Œå¹¶ç«‹å³å°†æ‰§è¡Œé™„åŠ ä»»ä½•doneCallbacksã€‚è¯¥doneCallbacksä¼ é€’åŸå§‹çš„å‚æ•°ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä»»ä½•failCallbacksæ‚¨å¯èƒ½ä¼šè®¾ç½®æ˜¯æ°¸è¿œä¸ä¼šè¢«è°ƒç”¨ï¼Œå› ä¸ºå»¶è¿Ÿä»ä¸æ‹’ç»ã€‚</p>
        <p>ä¾‹å¦‚ï¼š</p>
        <pre><code>$.when( { testing: 123 } ).done(
   function(x){ alert(x.testing); } /* alerts "123" */
);</code></pre>
        <p>åœ¨æ¡ˆä¾‹ä¸­æœ‰å¤šä¸ªå»¶è¿Ÿå¯¹è±¡ä¼ é€’jQuery.when ï¼Œè¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„â€œå®¿ä¸»â€å»¶è¿Ÿå¯¹è±¡ï¼Œè·Ÿè¸ªæ‰€æœ‰å·²é€šè¿‡Deferredsèšé›†çŠ¶æ€ã€‚è¯¥æ–¹æ³•èƒ½å¤Ÿè§£å†³å®ƒçš„â€œå®¿ä¸»â€å»¶è¿Ÿå°½å¿«è§£å†³æ‰€æœ‰å»¶è¿Ÿï¼Œæˆ–æ‹’ç»å°½å¿«å°†è¢«æ‹’ç»çš„å»¶è¿Ÿã€‚å¦‚æœâ€œå®¿ä¸»â€å»¶è¿Ÿå¾—åˆ°è§£å†³ï¼Œå®ƒæ˜¯é€šè¿‡ä¼ é€’ç»™è§£æå€¼ï¼Œæ‰€æœ‰çš„å»¶è¿Ÿ jQuery.when ã€‚ä¾‹å¦‚ï¼Œå½“å»¶è¿Ÿæ˜¯jQuery.ajax()è¯·æ±‚ï¼Œå‚æ•°å°†æ˜¯jqXHRå¯¹è±¡çš„è¦æ±‚ï¼Œä»¥ä¾¿ä»–ä»¬åœ¨åå•å†…çš„è¯´æ³•ã€‚</p>
        <p> åœ¨å¤šå»¶è¿Ÿæƒ…å†µä¸‹ï¼Œå¦‚æœå»¶è¿Ÿä¸€è¢«æ‹’ç»ï¼ŒjQuery.whenç«ç¾ç«‹å³æŒæ¡å…¶æ¨è¿ŸfailCallbacksã€‚è¯·æ³¨æ„ï¼Œå»¶è¿Ÿä¸€äº›å¯èƒ½ä»ç„¶åœ¨è¿™ä¸€ç‚¹æ²¡æœ‰å¾—åˆ°è§£å†³ã€‚å¦‚æœæ‚¨éœ€è¦æ‰§è¡Œé¢å¤–çš„å¤„ç†å¯¹äºè¿™ç§æƒ…å†µï¼Œå¦‚å–æ¶ˆä»»ä½•æœªå®Œæˆçš„Ajaxè¯·æ±‚ï¼Œä½ å¯ä»¥ä¿æŒåŸºæœ¬jqXHRå¼•ç”¨å¯¹è±¡åœ¨å°é—­å’Œæ£€æŸ¥/å–æ¶ˆåœ¨failCallbackä»–ä»¬ã€‚</p>
      </div>
    </div>
    <h3>å‚æ•°</h3>
    <div class="parameter">
      <h4><strong>deferreds</strong><span></span><em>V1.5</em></h4>
      <p>ä¸€ä¸ªæˆ–å¤šä¸ªå»¶è¿Ÿå¯¹è±¡ï¼Œæˆ–è€…æ™®é€šçš„JavaScriptå¯¹è±¡ã€‚</p>
    </div>
    <div class="example">
      <h3>ç¤ºä¾‹</h3>
      <span id="f_ad2"></span>
      <h4>æè¿°:</h4>
      <p> æ‰§è¡ŒAjaxè¯·æ±‚åä¸¤ä¸ªå‡½æ•°æ˜¯æˆåŠŸçš„ã€‚ï¼ˆè§jQuery.ajax()å¯¹äºä¸€ä¸ªæˆåŠŸçš„å’Œé”™è¯¯çš„æ¡ˆä»¶ä¸ºAJAXè¯·æ±‚çš„å®Œæ•´æè¿°æ–‡æ¡£ï¼‰ã€‚</p>
      <h5>jQuery ä»£ç :</h5>
      <pre><code>$.when($.ajax("/page1.php"), $.ajax("/page2.php")).done(function(a1,  a2){
    /* a1 and a2 are arguments resolved for the 
        page1 and page2 ajax requests, respectively */
   var jqXHR = a1[2]; /* arguments are [ "success", statusText, jqXHR ] */
   if ( /Whip It/.test(jqXHR.responseText) ) {
      alert("First page has 'Whip It' somewhere.");
   }
});</code></pre>
      <p> æ‰§è¡Œå‡½æ•°myfuncå½“ä¸¤ä¸ªAjaxè¯·æ±‚æ˜¯æˆåŠŸçš„ï¼Œå¦‚æœä»»ä¸€æˆ–myFailureæœ‰ä¸€ä¸ªé”™è¯¯ã€‚</p>
      <h5>jQuery ä»£ç :</h5>
      <pre><code>$.when($.ajax("/page1.php"), $.ajax("/page2.php"))
  .then(myFunc, myFailure);</code></pre>
    </div>
  </div>
</div>
</body>
</html>
